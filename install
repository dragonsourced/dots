#!/bin/sh
#
# Clone various repositories and move them to the proper place.

# Initialize all the submodules.
git submodule update --init --recursive

# install(from, to, script)

install() {
    mkdir -p "$(dirname "$2")"
    if [ -L "$2" ]; then
        echo "$1 is already installed"
    else
        echo "$1 -> $2"
        ln -s "$PWD/$1" "$2"
	script="$PWD/scripts/$1"
	if [ -f "$script" ]; then
		(
			cd "$2"
			sh "$script"
		)
	fi
    fi
}

# Install various files
make install -C sowm

install nvim ~/.config/nvim
install sowm ~/src/ui/sowm
